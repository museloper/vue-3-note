<script lang="ts">
import ChildComp from './13-1.vue'

export default {
  data() {
    return {
      childMsg: '',

      parent: true,
      name: 'ìì‹ ì»´í¬ë„ŒíŠ¸ ë³´ê¸°',

      parentScriptBlock: `
      # script block

      import ChildComp from './13-1.vue'

      export default {
        data() {
          return {
            childMsg: ''
          }
        },

        components: {
          ChildComp
        }
      }
      `,

      parentTemplateBlock: `
      # template block

      <main>
        <ChildComp @response="(msg) => childMsg = msg" />
        <p>{{ childMsg }}</p>
      </main>
      `,

      childScriptBlock: `
      # script block

      export default {
        emits: ['response'],

        created() {
          this.$emit('response', 'ìì‹ ì»´í¬ë„ŒíŠ¸ë¡œë¶€í„° ğŸŒ·ë¥¼ ë°›ì•˜ì–´ìš”!')
        }
      }
      `,

      childTemplateBlock: `
      # template block

      <main>
        <h2>ìì‹ ì»´í¬ë„ŒíŠ¸</h2>
      </main>
      `
    }
  },

  components: {
    ChildComp
  },

  methods: {
    toggle() {
      this.parent = !this.parent
      if (this.name == 'ìì‹ ì»´í¬ë„ŒíŠ¸ ë³´ê¸°') {
        this.name = 'ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ ë³´ê¸°'
      } else {
        this.name = 'ìì‹ ì»´í¬ë„ŒíŠ¸ ë³´ê¸°'
      }
    }
  }
}
</script>

<template>
  <main>
    <ChildComp @response="(msg) => (childMsg = msg)" />
    <p>{{ childMsg }}</p>

    <pre v-if="parent">
      <code>
        {{ parentScriptBlock }}
      </code>
      <code>
        {{ parentTemplateBlock }}
      </code>
    </pre>

    <pre v-else>
      <code>
        {{ childScriptBlock }}
      </code>
      <code>
        {{ childTemplateBlock }}
      </code>
    </pre>

    <div style="margin: 30px 0">
      <button @click="toggle">{{ name }}</button>
    </div>

    <RouterLink to="/tutorial">ëª©ë¡ìœ¼ë¡œ</RouterLink>
  </main>
</template>
